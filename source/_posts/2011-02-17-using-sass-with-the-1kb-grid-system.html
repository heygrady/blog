---
layout: post
title: "Using SASS With the 1KB Grid System"
date: 2011-02-17 11:52
comments: true
categories: sass compass grid css
---
<p>The <a href="http://www.1kbgrid.com/">1KB CSS Grid</a> is a simplified grid system and is one of many dozens of different grids available. I started using a personal variant of this grid system recently because it seemed like a very simple code-base to understand. A common complaint about CSS grids is that they require classes in the markup that aren't much different that simply hard-coding widths in a style attribute. Of course SASS can help remove that complaint and makes grids even more flexible. Here's a tour of the 1KB CSS Grid, modified to suit my tastes and rewritten in <a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html">SASS</a>.</p>
<!--more-->
<p><strong>UPDATE:</strong> a Github repo has been created for <a href="https://github.com/heygrady/1KB-SCSS-Grid">the 1KB-SCSS-Grid</a>.</p>
<p><strong>UPDATE:</strong> a follow up article, <a href="{% post_url 2012-04-20-compass-grid-gem-and-new-fluid-grid %}">Compass Grid Plugin and A New Fluid Grid Option</a>, has been posted.</p>
<p><strong>UPDATE:</strong> the Github repo has been renamed to <a href="https://github.com/heygrady/compass-grid-plugin">compass-grid-plugin</a> and a <a href="http://rubygems.org/gems/compass-grid-plugin">Ruby Gem</a> has been created.</p>

{% h4 For the uninitiated %}
<ul>
	<li><a href="http://spyrestudios.com/css-grid-systems/">CSS Grids</a></li>
	<li><a href="http://www.usabilitypost.com/2009/05/29/the-1kb-css-grid-part-1/">1KB CSS Grid</a> (part <a href="http://www.usabilitypost.com/2009/06/06/the-1kb-css-grid-part-2/">2</a> and <a href="http://www.usabilitypost.com/2009/06/19/the-1kb-css-grid-part-3/">3</a>)</li>
	<li><a href="http://sass-lang.com/tutorial.html">SASS</a> and <a href="http://compass-style.org/docs/">Compass</a>.</li>
</ul>
{% h2 Basic CSS %}
{% gist 702760 grid.css %}
<p>
	The above CSS is very similar to the <a href="http://www.usabilitypost.com/2009/05/29/the-1kb-css-grid-part-1/">original source</a> with a few stylistic differences (dashes instead of underscores) and the removal of the <code>overflow: hidden</code>
	clearfix hack and <a href="http://haslayout.net/css/Double-Margin-Bug">IE6 hacks</a>. My intention is to use the grid with <a href="http://html5boilerplate.com/">HTML5 Boilerplate</a> which has a better clearfix built-in (<a href="http://www.yuiblog.com/blog/2010/09/27/clearfix-reloaded-overflowhidden-demystified/"><code>overflow: hidden</code> isn't appealing</a> as a clearfix hack). I've also chosen to <a href="http://windowsteamblog.com/ie/b/ie/archive/2010/09/01/internet-explorer-usage-share-in-august.aspx">remove IE6</a> from my list of supported browsers for any project that doesn't require it.
</p>
<h4>Differences</h4>
<ul>
	<li>
		Remove IE6 specific hacks
	</li>
	<li>
		Remove <code>overflow: hidden</code>
		clearfix hacks
	</li>
	<li>
		Change <code>.row</code>
		to <code>.page</code>
	</li>
	<li>
		Change <code>.row .row</code>
		to <code>.row</code>
	</li>
	<li>
		Add in a <code>.box</code>
		for containers within columns
	</li>
	<li>
		Rely on <a href="http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/">HTML5 Boilerplate</a> and <a href="http://www.modernizr.com/docs/">Modernizr</a> for clearfix and browser targeting
	</li>
</ul>
{% h2 Basic Example Using Only CSS %}
<p>
	It's not immediately obvious how to piece this all together but the concepts are pretty simple.
</p>
<ul>
	<li>
		<code>.grid-#</code>
		is for column widths
	</li>
	<li>
		<code>.column</code>
		is for floating columns
	</li>
	<li>
		<code>.row</code>
		is a column container (columns are always nested in a row)
	</li>
	<li>
		<code>.page</code>
		is the main page wrapper with a full width and is horizontally centered.
	</li>
</ul>

{% gist 702760 grid.html %}
<p>
	Above is a typical page using the new HTML5 container tags and based on the <a href="https://github.com/paulirish/html5-boilerplate/blob/master/index.html">example HTML5 Boilerplate markup</a>. This example is shown with hard-coded class names in the HTML. As expected, there's a page wrapper (<code>#container</code>
	), <code>header</code>
	, <code>#main</code>
	and <code>footer</code>
	containers, and some columns in the main area. This page would create a typical 2 column layout (<code>#left-column</code>
	and <code>#main-column</code>
	). The <code>#main-column</code>
	, as shown, has a <code>.hero</code>
	area that spans the full width and a content area is further sub-divided into 2 columns (<code>#content</code>
	and <code>#right-column</code>
	).
</p>
<p>
	On a typical site, the <code>header</code>
	and <code>footer</code>
	would probably contain their own columns and rows. The <code>.hero</code>
	is used for promotional space at the top of content. This is a typical design choice and might contain a banner or a slideshow or some introductory copy.
</p>
<p>
	Personally I find the inclusion of the class names in the markup to be a little ugly. The most offensive part is the <code>grid-3</code>
	and <code>grid-6</code>
	, etc. This is barely different than hard-coding the width with an inline style. I prefer to use SASS mixins to remove those class names from the markup altogether and control it directly from the CSS.
</p>
{% h2 Rewritten in SASS %}
{% gist 702760 grid.scss %}

<p>
	Writing the same thing in SASS opens up a world of possibilities. Using <a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#defining_a_mixin">mixins</a> allows the column measurements to be easily changed and opens up the possibility of removing the extra class names from the markup. This SASS file was used to generate the CSS at the top of the article.
</p>
{% h3 Default Variables %}
<ul>
	<li>
		<code>$column-width: 60px;</code>
		is the width of a sinlge column
	</li>
	<li>
		<code>$gutter-width: 20px;</code>
		is the space between two columns
	</li>
	<li>
		<code>$columns: 12;</code>
		is the total number of columns
	</li>
	<li>
		(60px + 20px) * 12 = 960px
	</li>
</ul>
{% h3 Grid Mixins %}
<p>
	<code>grid</code>
	and <code>grid-plus</code>
	are simply used for setting a width on a column. <code>grid-plus</code>
	can be used to account for padding or otherwise arbitrarily altering the standard column width. This is especially useful when dealing with designers that like grids but like violating them even more.
</p>

{% gist 702760 example1.scss %}

<p>
	The example above shows 3 equivalent ways to specify a 6-column-wide column. The shortcut <code>grid-column</code>
	mixin makes it easy to create a standard column. But in the case where a column might require <code>border</code>
	or <code>padding</code>
	, the <code>grid-plus</code>
	mixin can be used to account for the difference.
</p>
<ul>
	<li>
		<code>@include grid(&lt;number&gt;);</code>
		is for column widths
		<ul>
			<li>
				<code>@include grid-plus(&lt;number&gt;, &lt;length&gt;);</code>
				is for columns that need a non-standard width
			</li>
		</ul>
	</li>
	<li>
		<code>@include grid-column;</code>
		is for floating columns
		<ul>
			<li>
				<code>@include grid-column(&lt;number&gt;);</code>
				is a shortcut, the same as calling <code>grid(&lt;number&gt;)</code>
				and <code>grid-column</code>
				consecutively
			</li>
			<li>
				<code>@include grid-column-empty(&lt;number&gt;, &lt;position&gt;);</code>
				adds margin to create empty space either before or after the column
			</li>
		</ul>
	</li>
	<li>
		<code>@include grid-row;</code>
		is a column container
	</li>
	<li>
		<code>@include grid-page;</code>
		is the main page wrapper with a full width and is horizontally centered
		<ul>
			<li>
				<code>@include grid-page(&lt;number&gt;);</code>
				creates a page container that is less than the default page width; useful for modal pop-ups
			</li>
		</ul>
	</li>
</ul>
{% h2 Basic Example Using SASS %}
<p>
	Using the ID's and class names already in the markup, it's possible to utilize the mixins that were created earlier to achieve the exact same effect. I typically do this in a layout file that contains all of the column layouts for the various templates in the site.
</p>

{% gist 702760 layout.scss %}

<h4>To Be Clear</h4>
<ul>
	<li>
		<code>#container</code>
		is specified as a <code>grid-page</code>
	</li>
	<li>
		<code>header</code>
		, <code>#main</code>
		and <code>footer</code>
		are set up as <code>grid-row(true)</code>
		<ul>
			<li>
				This essentially applies <code>.clearfix</code>
				to those container
			</li>
			<li>
				<code>grid-row(true)</code>
				is used for rows contained directly within a <code>grid-page</code>
				which ommits the negative margins that would otherwise be applied.
			</li>
		</ul>
	</li>
	<li>
		<code>#left-column</code>
		and <code>#right column</code>
		are specified as 3-columns wide
	</li>
	<li>
		The <code>#main-column</code>
		is 9 columns wide. More importantly, all <code>section</code>
		tags are specified as <code>grid-row</code>
		, allowing them to contain columns.
	</li>
	<li>
		The <code>#content</code>
		column is 6 columns wide.
	</li>
</ul>
<p>
	From the above example it should be clear how to use mixins to apply the grid styles directly through CSS without needing to hard-code the grid related class names into the markup.
</p>
{% h3 Compiled to CSS %}
<p>
	Because SASS must be compiled to CSS for it to work in a browser, it's useful to see what CSS is being generated. The file below is what the layout.scss example file generated.
</p>

{% gist 702760 layout.css %}

{% h3 HTML Without the Hard-coded Class Names %}

{% gist 702760 grid-layout.html %}

<p>
	SASS makes it possible to clean up the HTML and remove the extra classes.
</p>